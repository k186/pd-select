webpackJsonp([1],{"6Lwt":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n=s("c/Tr"),a=s.n(n),r={name:"app",data:function(){return{listData:a()({length:12},function(t,e){return 1+e}),listData2:a()({length:30},function(t,e){return"customValue"+e}),month:100,day:"customValue15"}},mounted:function(){var t=this;setTimeout(function(){t.after()},3e3)},methods:{after:function(){this.day="customValue0",this.$refs.day.init()}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("pd-select-box",{staticStyle:{position:"fixed",bottom:"0",width:"100%"}},[s("pd-select-item",{ref:"month",attrs:{listData:t.listData},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}}),t._v(" "),s("pd-select-item",{ref:"day",attrs:{listData:t.listData2,type:"cycle"},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}})],1)],1)},staticRenderFns:[]};var o=s("VU/8")(r,l,!1,function(t){s("jze1")},null,null).exports,h={name:"pdSelectItem",data:function(){return{spin:{start:-9,end:9,branch:9},finger:{startY:0,lastY:0,startTime:0,lastTime:0,transformY:0}}},props:{listData:{type:Array,required:!0},type:{type:String,default:"line"},value:{}},computed:{renderData:function(){for(var t=[],e=this.spin.start;e<=this.spin.end;e++){var s={value:this.getSpinData(e),index:e};t.push(s)}return t}},mounted:function(){this.$el.addEventListener("touchstart",this.itemTouchStart),this.$el.addEventListener("touchmove",this.itemTouchMove),this.$el.addEventListener("touchend",this.itemTouchEnd),this.init()},methods:{init:function(t){var e=this,s=void 0,i=void 0;this.$nextTick(function(){t||(e.finger={startY:0,lastY:0,startTime:0,lastTime:0,transformY:0},-1===(s=e.listData.indexOf(e.value))?(console.warn("当前初始值不存在，请检查后listData范围！！"),e.setListTransform(),e.getPickValue(0)):(i=34*s,e.setStyle(-i),e.setListTransform(-i,-i)))})},setHidden:function(t){return"line"===this.type&&(t<0||t>this.listData.length-1)},setWheelItemDeg:function(t){return{transform:"rotate3d(1, 0, 0, "+20*-t%360+"deg) translate3d(0px, 0px, 100px)"}},setWheelDeg:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;"end"===e?(this.$refs.wheel.style.webkitTransition="transform "+s+"ms cubic-bezier(0.19, 1, 0.22, 1)",this.$refs.wheel.style.webkitTransform="rotate3d(1, 0, 0, "+t+"deg)"):(this.$refs.wheel.style.webkitTransition="",this.$refs.wheel.style.webkitTransform="rotate3d(1, 0, 0, "+t+"deg)")},setListTransform:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;"end"===s?(this.$refs.list.style.webkitTransition="transform "+i+"ms cubic-bezier(0.19, 1, 0.22, 1)",this.$refs.list.style.webkitTransform="translateY("+(t-34*this.spin.branch)+"px)",this.$refs.list.style.marginTop=-e+"px",this.$refs.list.setAttribute("scroll",t)):(this.$refs.list.style.webkitTransition="",this.$refs.list.style.webkitTransform="translateY("+(t-34*this.spin.branch)+"px)",this.$refs.list.style.marginTop=-e+"px",this.$refs.list.setAttribute("scroll",t))},itemTouchStart:function(t){var e=t.changedTouches[0];this.finger.startY=e.pageY,this.finger.startTime=t.timestamp||Date.now(),this.finger.transformY=this.$refs.list.getAttribute("scroll"),t.preventDefault()},itemTouchMove:function(t){var e=t.changedTouches[0];this.finger.lastY=e.pageY,this.finger.lastTime=t.timestamp||Date.now();var s=this.finger.lastY-this.finger.startY;this.setStyle(s),t.preventDefault()},itemTouchEnd:function(t){var e=t.changedTouches[0];this.finger.lastY=e.pageY,this.finger.lastTime=t.timestamp||Date.now();var s=this.finger.lastY-this.finger.startY,i=this.finger.lastTime-this.finger.startTime;i<=300?(s=1.8*(s/i)*i,i=1e3+1.8*i,this.setStyle(s,"end",i)):this.setStyle(s,"end")},setStyle:function(t,e,s){var i,n,a,r,l,o=this,h=this.finger.transformY,c=t+Number(h);"end"===e&&"line"===this.type&&(c>0&&(c=0),c<34*-(this.listData.length-1)&&(c=34*-(this.listData.length-1))),i=20/34*-c,n=Math.round(i/20),a=34*Math.round(c/34),r=a,l=20*Math.round(i/20),"end"===e?(this.setListTransform(r,a,e,s),this.setWheelDeg(l,e,s),setTimeout(function(){return o.getPickValue(r)},1e3)):(this.setListTransform(c,a),this.setWheelDeg(i)),this.updateSpin(n)},updateSpin:function(t){this.spin.start=-1*this.spin.branch+t,this.spin.end=this.spin.start+2*this.spin.branch},getSpinData:function(t){return t%=this.listData.length,this.listData[t>=0?t:t+this.listData.length]},getPickValue:function(t){var e=Math.round(-t/34),s=this.getSpinData(e);this.$emit("input",s)}},beforeDestroy:function(){this.$el.removeEventListener("touchstart",this.itemTouchStart),this.$el.removeEventListener("touchmove",this.itemTouchMove),this.$el.removeEventListener("touchend",this.itemTouchEnd)}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pd-select-item"},[s("div",{staticClass:"pd-select-line"}),t._v(" "),s("div",{staticClass:"pd-select-list"},[s("ul",{ref:"list",staticClass:"pd-select-ul"},t._l(t.renderData,function(e,i){return s("li",{key:i,staticClass:"pd-select-list-item",class:{hidden:t.setHidden(e.index)}},[t._v(t._s(e.value)+"\n      ")])}),0)]),t._v(" "),s("ul",{ref:"wheel",staticClass:"pd-select-wheel"},t._l(t.renderData,function(e,i){return s("li",{key:i,staticClass:"pd-select-wheel-item",class:{hidden:t.setHidden(e.index)},style:t.setWheelItemDeg(e.index),attrs:{index:e.index}},[t._v(t._s(e.value)+"\n    ")])}),0)])},staticRenderFns:[]};var u=s("VU/8")(h,c,!1,function(t){s("6Lwt")},"data-v-0a37eec6",null).exports,d={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"pd-select-box"},[this._t("default")],2)},staticRenderFns:[]};var f=s("VU/8")({name:"pdSelectBox"},d,!1,function(t){s("oYn/")},"data-v-bcce8496",null).exports,m=[u,f],p={install:function t(e){t.installed||(m.map(function(t){e.component(t.name,t)}),"undefined"!=typeof window&&window.Vue&&t(window.Vue))},components:m,pdSelectItem:u,pdSelectBox:f};i.a.use(p),i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:o},template:"<App/>"})},jze1:function(t,e){},"oYn/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cce4819ebeef4a6e87bf.js.map